services:
  - type: web
    name: rockxy-backend
    env: java
    plan: standard # Puedes elegir 'starter' si es una aplicación pequeña

    # 1. Fuerza el uso de Java 17 en el entorno
    envVars:
      - key: JAVA_VERSION
        value: 17

    # 2. Comando de compilación (el que ya estás usando)
    buildCommand: "./mvnw clean install -DskipTests"

    # 3. Comando de inicio de la aplicación
    # **IMPORTANTE:** Debes reemplazar 'NOMBRE_DE_TU_JAR.jar' con el nombre exacto
    # del archivo .jar que produce Maven.
    # Por lo general, sigue el formato: tu-proyecto-0.0.1-SNAPSHOT.jar
    startCommand: "java -jar target/NOMBRE_DE_TU_JAR.jar"
